---
---

/*
 * This file controls what is imported from /_sass
 *
 * Note that the files are processed in the order they are imported, so they are partly
 * sorted by the dependencies. Also, the first two lines of the file are required by Jekyll.
 */

@import
  "vendor/breakpoint/breakpoint",

  "themes",
  "theme/{{ site.site_theme | default: 'default' | append: '_light' }}",
  "theme/{{ site.site_theme | default: 'default' | append: '_dark' }}",

  "include/mixins",
  "vendor/susy/susy",

  "layout/reset",
  "layout/base",

  "include/utilities",
  "layout/tables",
  "layout/buttons",
  "layout/notices",
  "layout/masthead",
  "layout/navigation",
  "layout/footer",
  "syntax",

  "layout/forms",

  "layout/page",
  "layout/archive",
  "layout/sidebar",
  "layout/json_cv",

  "vendor/font-awesome/fontawesome",
  "vendor/font-awesome/solid",
  "vendor/font-awesome/brands"
;

/* ---------------------------------------------------------
   Featured publication layout: text left, image right
   --------------------------------------------------------- */

/* make each archive item a normal block, not a flex row */
.page__content .archive__item {
  display: block !important;
}

/* row containing text + image */
.page__content .archive__item-main {
  display: flex !important;
  gap: 2rem;
  align-items: flex-start;   /* top-align image with title/text */
}

/* text column */
.page__content .archive__item-text {
  flex: 1 1 auto;
}

/* image column */
.page__content .archive__item-teaser {
  flex: 0 0 480px;           /* wider image column */
  margin-top: 0.25rem;       /* tiny nudge so top lines up with title */
}

.page__content .archive__item-teaser img {
  display: block;
  width: 100%;               /* fill the 480px column */
  max-width: 480px;
  height: auto;
  border-radius: 6px;
}

/* full-width citation / links block */
.page__content .archive__item-meta {
  margin-top: 1rem;
  max-width: none;           /* in case theme constrains width */
}

/* Mobile: stack text and image */
@media (max-width: 800px) {
  .page__content .archive__item-main {
    display: block !important;
  }

  .page__content .archive__item-teaser {
    margin-top: 1rem;
    flex: 0 0 auto;
  }

  .page__content .archive__item-teaser img {
    width: 100%;
    max-width: 100%;
  }
}

